<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head th:insert="common::header (#{html.stats.title})"></head>
<body style="background-color: #2b2b2b">
<nav th:insert="common::navbar"></nav>
<div class="container">
    <blockquote class="blockquote text-center">
        <p th:text="#{html.stats.text}" class="mb-0 bg-light text-black rounded-2"
           style="margin-bottom: 20px; margin-top: 20px; padding: 10px"></p>
    </blockquote>
</div>
<div class="container">
    <div th:if="${counts.size() eq 0}" class="container">
        <blockquote class="blockquote text-center">
            <p th:text="#{html.stats.empty}" class="mb-0 bg-light text-black rounded-2"
               style="margin-bottom: 20px; margin-top: 20px; padding: 10px"></p>
        </blockquote>
    </div>
    <div th:if="${counts.size() > 0}" class="container">
        <blockquote class="blockquote text-center">
            <table class="table table-bordered bg-white rounded-3">
                <thead>
                <tr class="h5">
                    <th scope="col">#</th>
                    <th scope="col" th:text="#{html.stats.word}">Word</th>
                    <th scope="col" th:text="#{html.stats.counts}">Count</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="count : ${counts}">
                    <th scope="row" th:text="${countStat.index+1}">1</th>
                    <td th:text="${count.word}">Mark</td>
                    <td th:text="${count.counts}">Mark</td>
                </tr>
                </tbody>
            </table>
        </blockquote>
    </div>
</div>
<div class="container text-center">
    <div id="chart" class="container text-center rounded-3"></div>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script th:inline="javascript" type="text/javascript">
        // Load google charts
        google.charts.load('current', {'packages': ['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        // Draw the chart and set the chart values
        function drawChart() {
            /*[+
                        var data =  [(${scriptcode})]
            +]*/
            // Optional; add a title and set the width and height of the chart
            var options = {
                'height': 750,
                chartArea: { width: '90%', height: '90%'},
                is3D: true,
                legend: {position: 'bottom', textStyle: {color: 'white', fontSize: 16}},
                backgroundColor: '#2b2b2b',
            };

            // Display the chart inside the <div> element with id="chart"
            var chart = new google.visualization.PieChart(document.getElementById('chart'));
            chart.draw(data, options);
        }
    </script>
</div>
<div th:insert="common::footer"></div>
<div th:insert="common::script"></div>
</body>
</html>